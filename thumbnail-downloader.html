<script>
function getThumbnail() {
  const url = document.getElementById("videoURL").value.trim();
  let videoId = "";

  try {
    // YouTube URL parse karne ka best method
    let parsedUrl = new URL(url);
    if (parsedUrl.hostname.includes("youtu.be")) {
      videoId = parsedUrl.pathname.slice(1);
    } else if (parsedUrl.hostname.includes("youtube.com")) {
      videoId = parsedUrl.searchParams.get("v");
    }
  } catch (e) {
    document.getElementById("result").innerHTML = "<p style='color:red;'>⚠ Invalid URL</p>";
    return;
  }

  if (!videoId) {
    document.getElementById("result").innerHTML = "<p style='color:red;'>⚠ Please enter a valid YouTube link</p>";
    return;
  }

  const link = https://img.youtube.com/vi/${videoId}/maxresdefault.jpg;

  document.getElementById("result").innerHTML = `
    <h3>Thumbnail Preview:</h3>
    <img src="${link}" class="thumb" alt="YouTube Thumbnail">
    <br>
    <a href="${link}" class="download-btn" download>⬇ Download Thumbnail</a>
  `;
}
</script>
